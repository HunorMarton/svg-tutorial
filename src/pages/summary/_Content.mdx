import Slide from "../../components/summary/Slide.astro";
import Note from "../../components/summary/Note.astro";
import SlideHeader from "../../components/summary/SlideHeader.astro";
import SlideSVG from "../../components/summary/SlideSVG.astro";
import SlideHTML from "../../components/summary/SlideHTML.astro";
import SlideCircle from "../../components/summary/SlideCircle.astro";
import SlideRect from "../../components/summary/SlideRect.astro";
import SlideDiagram from "../../components/summary/SlideDiagram.astro";
import { Diagram } from "../../components/summary/Diagram.jsx";
import SlideHamburger from "../../components/summary/SlideHamburger.astro";
import SlideSun from "../../components/summary/SlideSun.astro";
import SlideWindmill from "../../components/summary/SlideWindmill.astro";
import Windmill from "../../components/examples/Windmill.astro";
import SlideClock from "../../components/summary/SlideClock.astro";
import SlideSmile from "../../components/summary/SlideSmile.astro";
import { QuadraticBezier } from "../../svg-curves/connected/QuadraticBezier";
import { CubicBezier } from "../../svg-curves/connected/CubicBezier";
import { Arc } from "../../svg-curves/connected/Arc";
import SlideConnection from "../../components/summary/SlideConnection.astro";
import SlideEnd from "../../components/summary/SlideEnd.astro";

import Example from "../../components/markdown/layouts/Example.astro";
import SVG from "../../components/markdown/elements/SVG.astro";
import Circle from "../../components/markdown/elements/Circle.astro";
import Rect from "../../components/markdown/elements/Rect.astro";
import Path from "../../components/markdown/elements/Path.astro";
import Polygon from "../../components/markdown/elements/Polygon.astro";

<SlideHeader />

<SlideHTML slide={1}>

```js
export const Page = () => (
  <html>
    <h1>Hi there</h1>
    <svg width="100" height="100" viewBox="0 0 100 100">
      <circle cx="50" cy="50" r="25" fill="red" />
    </svg>
  </html>
);
```

<Note>SVG is an XML-based markup language for vector graphics.</Note>
<Note>Since HTML5, you can inline an SVG in HTML.</Note>
<Note>
  This means you can generate an SVG from React or any other frontend library.
</Note>

</SlideHTML>

<SlideSVG>
    <Example>

        <SVG width="100" height="100" viewBox="0 0 200 200">
          <Circle cx="100" cy="100" r="50" />
        </SVG>

        {/* prettier-ignore */}
        ```html
        <svg
          width="100"
          height="100"
          viewBox="0 0 200 200"
        >
          <circle cx="100" cy="100" r="50" />
        </svg>
        ```

    </Example>

    <Example>

        <SVG width="200" height="200" viewBox="0 0 200 200">
          <Circle cx="100" cy="100" r="50" />
        </SVG>

        {/* prettier-ignore */}
        ```html
        <svg
          width="200"
          height="200"
          viewBox="0 0 200 200"
        >
          <circle cx="100" cy="100" r="50" />
        </svg>
        ```

    </Example>

    <Example>

        <SVG width="200" height="200" viewBox="-100 -100 200 200">
          <Circle r="50" />
        </SVG>

        {/* prettier-ignore */}
        ```html
        <svg
          width="200"
          height="200"
          viewBox="-100 -100 200 200"
        >
          <circle r="50" />
        </svg>
        ```

    </Example>

    <Note>You can define an SVG by setting its size with the `width` and `height` attributes and its coordinate system with the `viewBox` attribute.</Note>
    <Note>The coordinate system can also start at a negative coordinate. This way, the center of the second image is at `0,0`.</Note>

</SlideSVG>

<SlideCircle>

    <Example>

        <SVG width="200" height="200" viewBox="0 0 200 200">
          <Circle cx="100" cy="100" r="50" />
          <Circle cx="100" cy="100" r="50" fill="red"/>
          <Circle cx="100" cy="100" r="50" fill="none" stroke="red" stroke-width="5" />
        </SVG>

        {/* prettier-ignore */}
        ```html
        <svg
          width="200"
          height="200"
          viewBox="0 0 200 200"
        >
          <circle
            cx="100"
            cy="100"
            r="50"
            fill="red"
            fill="none"
            stroke="red"
            stroke-width="5"
            class="red-circle"
          />
        </svg>
        ```

        ```css
        .red-circle {
            fill: none;
            stroke: red;
            stroke-width: 2;
        }
        ```

  </Example>

<Note>Now, let's talk about this circle.</Note>
<Note>
  We can define a circle by setting its center coordinates, `cx` and `cy`, and
  its radius, `r`.
</Note>
<Note>
  To change its color, we can set the `fill` attribute. We can use any value
  that's valid in CSS.
</Note>
<Note>
  To set the border color and width, we can use the `stroke` and `stroke-width`
  attributes.
</Note>
<Note>We can also move the styling properties to CSS.</Note>

</SlideCircle>

<SlideRect>
  <Example>

    <SVG width="200" height="200" viewBox="0 0 200 200">
      <Rect x="25" y="50" width="150" height="100" />
    </SVG>

    {/* prettier-ignore */}
    ```html
    <svg
      width="200"
      height="200"
      viewBox="0 0 200 200"
    >
      <rect
        x="25"
        y="50"
        width="150"
        height="100"
      />
    </svg>
    ```

  </Example>
  <Note>Of course, we can also draw a rectangle.</Note>
  <Note>Here, we have to set the top-left coordinates, `x` and `y`, and the size with `width` and `height`.</Note>
</SlideRect>

<SlideDiagram>
  <Example>
    <Diagram />

    ```js
    function Diagram() {
      const dataPoints = [3, 4, 7, 5, 3, 6];

      return (
        <svg width="200" height="200">
          {dataPoints.map((dataPoint, index) => (
            <rect
              key={index}
              x={42.5 + index * 20}
              y={150 - dataPoint * 10}
              width="15"
              height={dataPoint * 10}
              fill="#CD803D"
            />
          ))}
        </svg>
      );
    }
    ```

  </Example>
  <Note>With this knowledge, we can draw a diagram.</Note>
  <Note>Here, we map some data points in React to rectangles.</Note>
</SlideDiagram>

<Slide code={true}>
  ```html
  <path d=". . ." />
  ```
  <Note>To draw more complex shapes, we can use the `path` element.</Note>
</Slide>

<SlideHamburger>
    <Example>
        <SVG
            width="200"
            height="200"
            viewBox="0 0 200 200"
            stroke="#333333"
            stroke-width="24"
            stroke-linecap="round"
        >
          <Path
            d="M 50, 40 L 150, 40 M 50, 100 L 150, 100 M 50, 160 L 150, 160"
             />
          <Path
            d="M 50, 100 L 150, 100"
             />
        </SVG>

        {/* prettier-ignore */}
        ```html
        <svg width="100" height="100" viewBox="0 0 100 100">
          <path
            class="line"
            d="M 50, 100 L 150, 100"
            d="
              M 50, 40 L 150, 40
              M 50, 100 L 150, 100
              M 50, 160 L 150, 160"
          />
        </svg>
        ```

        ```css
        .line {
            stroke: #333333;
            stroke-width: 24;
            stroke-linecap: round;
        }
        ```

    </Example>
    <Note>The `d` attribute of a path consists of segments. Here, we have a **M**ove-to and a **L**ine-to segment. We set a coordinate for both.</Note>
    <Note>A path doesn't have to be continuous. We can use multiple move-to and line-to segments in the same path.</Note>

</SlideHamburger>

<Slide>
  <svg width="200" height="200" viewBox="0 0 30 30">
    <path
      stroke="black"
      stroke-width="3"
      fill="none"
      d="
        M 10, 2 L 2,2 L 2, 10
        M 20, 2 L 28,2 L 28, 10
        M 28, 20 L 28,28 L 20, 28
        M 10, 28 L 2,28 L 2, 20"
    />
  </svg>
  <Note>We can already create basic icons this way.</Note>
</Slide>

<SlideSun>
  <Example>
    <SVG 
      width="200" 
      height="200" 
      viewBox="-15 -15 30 30"
    >
      <Circle r="6" />
      <Path
        id="ray"
        stroke="black"
        stroke-width="2"
        stroke-linecap="round"
        d="M 0, 11 L 0, 14"
      ></Path>
      <use href="#ray" transform="rotate(45)" />
      <use href="#ray" transform="rotate(90)" />
      <use href="#ray" transform="rotate(135)" />
      <use href="#ray" transform="rotate(180)" />
      <use href="#ray" transform="rotate(225)" />
      <use href="#ray" transform="rotate(270)" />
      <use href="#ray" transform="rotate(315)" />
    </SVG>

    ```html
    <svg width="200" height="200" viewBox="-15 -15 30 30">
      <circle r="6" />
      <path id="ray" d="M 0, 11 L 0, 14" />
      <use href="#ray" transform="rotate(45)" />
      <use href="#ray" transform="rotate(90)" />
      <use href="#ray" transform="rotate(135)" />
      <use href="#ray" transform="rotate(180)" />
      <use href="#ray" transform="rotate(225)" />
      <use href="#ray" transform="rotate(270)" />
      <use href="#ray" transform="rotate(315)" />
    </svg>
    ```

    ```css
    #ray {
      stroke: black;
      stroke-width: 2;
      stroke-linecap: round;
    }
    ```

  </Example>
  <Note>Now, let's look into this sun icon.</Note>
  <Note>Here, we center the coordinate system with the `viewBox` property.</Note>
  <Note>Then, we draw a straight line with a `path`.</Note>
  <Note>We can set an `id` to this path, reuse it with the `use` element, and `rotate` it into position.</Note>
</SlideSun>

<SlideWindmill>
  <Example>
    <Windmill />

    ```html
    <svg width="200" height="400">
      <g id="windmill-head">
        <circle r="8" />
        <path
          id="arm"
          d="
            M -7 -20
            C -7 -10 7 -10 7 -20
            L 2 -80
            L -2 -80" />
        <use href="#arm" transform="rotate(+120)" />
        <use href="#arm" transform="rotate(-120)" />
      </g>
      <path d="M 93 300 L 107 300 L 103 165 L 97 165" />
    </svg>
    ```

    ```css
    #windmill-head {
      translate: 100, 150;
      animation: 4s linear infinite rotate;
    }

    @keyframes rotate {
      from {
        rotate: 0deg;
      }
      to {
        rotate: 360deg;
      }
    }
    ```

  </Example>

  <Note>We can also animate an SVG with CSS.</Note>
  <Note>Here, we wrap the moving part of this windmill into a group with the `g` element.</Note>
  <Note>Then, set a keyframe animation for this group in CSS.</Note>
</SlideWindmill>

<SlideClock>
  <Note>We can also set transformations dynamically with JavaScript.</Note>
</SlideClock>

<SlideSmile />

<Slide>
  <QuadraticBezier client:only="react" fullScreen={true} />
  <Note curve={true}>
    The quadratic bezier curve has one control point that defines how to bend
    the line. Drag the coordinates to see how the code changes.
  </Note>
</Slide>

<Slide>
  <CubicBezier client:only="react" fullScreen={true} />
  <Note curve={true}>
    A cubic bezier curve has two control points, giving you much greater
    flexibility.
  </Note>
</Slide>

<SlideConnection>
  <Example>
    <SVG width="300" height="300" viewBox="-100 -100 200 200">
      <Path
        d="
              M -90,0 
              L -30,-30
              C 30,-60 60,-30 30,30
              L 0,90"
        fill="none"
        stroke="red"
        stroke-width="10"
      />
    </SVG>
  </Example>

  <Example>
    <SVG width="300" height="300" viewBox="-100 -100 200 200">
      <Path 
        d="
          M -30,70 
          L 30,0
          C 90,-70 -80,-30 -20,10
          L 40,50"
        fill="none"
        stroke="red"
        stroke-width="10"
      />
    </SVG>
  </Example>
  <Note>Cubic bezier curves are great for creating smooth transitions between line segments. Hover over the paths to see how they connect two straight line segment.</Note>
</SlideConnection>

<Slide>
  <Arc client:only="react" fullScreen={true} />
  <Note curve={true}>
    Arcs are one of the most complicated path segments. Click [here](/svg/arc)
    to read more about them.
  </Note>
</Slide>

<SlideEnd />
