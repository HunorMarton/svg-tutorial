---
import Summary from "../../layouts/Summary.astro";
import Close from "../../components/CloseButton.astro";
import { Content } from "./_Content.mdx";
---

<Summary>
  <div class="unsupported-browser">
    <div>
      <h1>Your browser does not support Scroll-driven Animations with CSS</h1>
      <p>
        This page heavily relies on scroll-driven animations and your browser
        does not support it yet. Open this page in Chrome on desktop.
      </p>
      <a href="/">Back to Home</a>
    </div>
  </div>
  <div class="snap-container">
    <Content />
    <Close />
  </div>
</Summary>

<style is:global>
  :root {
    --line-height: 1.5em;

    --background-color: #f6f7f9;
    --corner-color: #939495;
    --curve-color: hsl(0, 95%, 60%);
    --curve-alternative-color: transparent;
    --curve-alternative-background-color: rgba(226, 226, 226, 0.468);
    --curve-alternative-background-hover-color: hsl(0, 95%, 60%);
    --helper-color: dimgray;

    --draggable-color: hsla(0, 0%, 82%, 0.585);
    --draggable-hover-color: rgba(96, 0, 30, 0.8);
    --draggable-text-color: transparent;
    --draggable-text-hover-color: black;
    --draggable-icon-color: dimgray;
    --draggable-icon-hover-color: white;

    --dragging-color: rgba(193, 0, 61, 0.8);
    --dragging-text-color: black;
    --dragging-icon-color: white;
  }

  * {
    box-sizing: border-box;
  }

  .unsupported-browser {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;

    div {
      max-width: 500px;
    }
  }

  .snap-container {
    display: none;
  }

  @supports (animation-timeline: scroll()) {
    .unsupported-browser {
      display: none;
    }

    .snap-container {
      display: block;
      overflow: auto;
      width: 100vw;
      height: 100vh;
      scroll-snap-type: y mandatory;
      background-color: white;
    }

    code {
      padding: 0 5px 2px;
      background-color: lightgray;
      font-size: 1.2em;
      line-height: var(--line-height);
    }

    pre {
      color: white;
      padding: 2em;
      border-radius: 5px;
      max-width: 100%;
    }

    pre code {
      background-color: inherit;
      padding: 0;
    }
  }
</style>
