---
import Threes from "../components/Threes.astro";
import Snow from "../components/Snow.astro";

export interface Props {
  id: string;
  title?: string;
  size: number;
}

const { id, title, size } = Astro.props as Props;
---

<svg width={200 * size} height={200 * size} viewBox="-100 -100 200 200">
  <title>{title}</title>
  <clipPath id={`snow-globe-${id}`}>
    <circle cx="0" cy="0" r="80"></circle>
  </clipPath>

  <g clip-path={`url(#snow-globe-${id})`}>
    <rect x="-100" y="-100" width="200" height="200" fill="#F1DBC3"></rect>
    <circle cx="0" cy="380" r="350" fill="#F8F4E8"></circle>

    <Threes />
    <Snow />
  </g>

  <circle cx="0" cy="0" r="80" fill="none" stroke="gray" stroke-width="2"
  ></circle>
</svg>

<style is:global>
  .flake {
    animation-duration: inherit;
    animation-name: snowing;
    animation-iteration-count: infinite;
    animation-timing-function: linear;
  }

  @keyframes snowing {
    from {
      transform: translate(0, -100px);
    }
    to {
      transform: translate(0, 100px);
    }
  }

  .flake.opaque {
    opacity: 0.7;
  }

  .flake.slow {
    animation-duration: 5s;
  }

  .flake.fast {
    animation-duration: 3s;
  }
</style>
