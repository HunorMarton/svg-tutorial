---
import AppHeader from "./AppHeader.astro";
---

<div class="App">
  <div class="grid">
    <AppHeader />
    <div class="block">
      <slot name="day-1" />
      <slot name="day-2" />
      <slot name="day-3" />
      <slot name="day-4" />
      <slot name="day-5" />
    </div>
    <div class="block">
      <slot name="day-6" />
      <slot name="day-7" />
      <slot name="day-8" />
      <slot name="day-9" />
    </div>

    <div class="block">
      <slot name="day-10" />
      <slot name="day-11" />
      <slot name="day-12" />
      <slot name="day-13" />
      <slot name="day-14" />
    </div>

    <div class="big-block">
      <slot name="day-15" />
      <slot name="day-16" />
      <slot name="day-17" />

      <div class="twitter">
        Say Hello
        <a
          href="https://twitter.com/HunorBorbely"
          target="_blank"
          rel="noopener"
        >
          @HunorBorbely
        </a>
      </div>

      <slot name="day-18" />
      <slot name="day-19" />
      <slot name="day-20" />
    </div>

    <div class="small-block">
      <slot name="day-21" />
      <slot name="day-22" />
      <slot name="day-23" />
      <slot name="day-24" />
    </div>
  </div>
</div>

<style is:global>
  .App {
    display: flex;
    justify-content: center;
    color: white;
  }

  @media (min-width: 770px) and (min-height: 770px) {
    .App {
      align-items: center;
      height: 100vh;
    }
  }

  svg {
    border-radius: 10px;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(3, auto);
    grid-template-rows: repeat(12, auto);
    gap: 10px;
    padding: 50px 10px;
  }

  .grid .block:nth-of-type(1) {
    grid-row: 2/4;
    grid-column: 1/4;
  }

  .grid .block:nth-of-type(2) {
    grid-row: 4/6;
    grid-column: 1/4;
  }

  .grid .block:nth-of-type(3) {
    grid-row: 6/8;
    grid-column: 1/4;
  }

  .grid .big-block {
    grid-row: 8/11;
    grid-column: 1/4;
  }

  .grid .small-block {
    grid-row: 11;
    grid-column: 1/4;
  }

  @media (min-width: 770px) {
    .grid {
      grid-template-columns: repeat(6, auto);
      grid-template-rows: repeat(6, auto);
    }

    .grid .block:nth-of-type(1) {
      grid-row: 2/4;
      grid-column: 1/4;
    }

    .grid .block:nth-of-type(2) {
      grid-row: 4/6;
      grid-column: 1/4;
    }

    .grid .block:nth-of-type(3) {
      grid-row: 1/3;
      grid-column: 4/7;
    }

    .grid .big-block {
      grid-row: 3/6;
      grid-column: 4/7;
    }

    .grid .small-block {
      grid-row: 6;
      grid-column: 1/6;
    }
  }

  .block {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(2, 1fr);
    gap: inherit;
  }

  .big-block {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
    gap: inherit;
  }

  .small-block {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(2, 1fr);
    gap: inherit;
  }

  @media (min-width: 770px) {
    .small-block {
      grid-template-columns: repeat(5, 1fr);
      grid-template-rows: repeat(1, 1fr);
    }
  }

  /* Day 2 */
  .block:nth-of-type(1) *:nth-of-type(2) {
    grid-column: 2;
    grid-row: 1/3;
  }

  /* Day 6 */
  .block:nth-of-type(2) *:nth-of-type(1) {
    grid-column: 1;
    grid-row: 1/3;
  }

  /* Day 9 */
  .block:nth-of-type(2) *:nth-of-type(4) {
    grid-column: 3;
    grid-row: 1/3;
  }

  /* Day 14 */
  .block:nth-of-type(3) *:nth-of-type(5) {
    grid-column: 3;
    grid-row: 1/3;
  }

  /* Day 16: Sledge */
  .big-block *:nth-child(2) {
    grid-column: 2/4;
    grid-row: 1;
  }

  /* Day 20: Snowman */
  .big-block *:nth-child(7) {
    grid-column: 3;
    grid-row: 2/4;
  }

  /* Day 23: Lights */
  .small-block *:nth-child(2) {
    grid-column: 2/4;
    grid-row: 1;
  }

  /* For screen size below minimum width */
  @media (max-width: 389px) {
    .day,
    .day > svg {
      width: calc((100vw - 40px) / 3);
      height: calc((100vw - 40px) / 3);
    }

    /* Day 2 */
    .block:nth-of-type(1) > *:nth-of-type(2),
    .block:nth-of-type(1) > *:nth-of-type(2) svg,
    /* Day 6*/
    .block:nth-of-type(2) > *:nth-of-type(1),
    .block:nth-of-type(2) > *:nth-of-type(1) svg,
    /* Day 9 */
    .block:nth-of-type(2) > *:nth-of-type(4),
    .block:nth-of-type(2) > *:nth-of-type(4) svg,
    /* Day 14 */
    .block:nth-of-type(3) > *:nth-of-type(5),
    .block:nth-of-type(3) > *:nth-of-type(5) svg {
      width: calc((100vw - 40px) / 3);
      height: calc((100vw - 40px) / 3 * 2 + 10px);
    }

    /* Day 20: Sledge */
    .big-block > *:nth-child(2),
    .big-block > *:nth-child(2) svg,
    /* Day 22: Lights */
    .small-block > *:nth-child(2),
    .small-block > *:nth-child(2) svg {
      width: calc((100vw - 40px) / 3 * 2 + 10px);
      height: calc((100vw - 40px) / 3);
    }

    /* Day 18: Background pattern */
    .big-block > *:nth-child(3) div {
      width: calc((100vw - 40px) / 3) !important;
      height: calc((100vw - 40px) / 3) !important;
    }
  }

  .twitter {
    color: #f5eed7;
    font-size: 0.8em;
    background-color: #16212b;

    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
  }
</style>
