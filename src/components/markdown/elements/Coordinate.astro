---
export interface Props {
  x: string;
  y: string;
  fill?: string;
}

const { x = "0", y = "0" } = Astro.props as Props;
const textLength = x.length + y.length + 2;
const textBoxHPad = 8;
const textBoxVPad = 7;
const textBoxWidth = textLength * 4.6 + textBoxHPad * 2;
const textBoxHeight = textBoxVPad * 2 + 7;
---

<g transform={`translate(${x} ${y})`}>
  <circle class="dot" r="3" fill="red"></circle>

  <g class="coordinate">
    <g transform="translate(5 5)">
      <rect width={textBoxWidth} height={textBoxHeight}></rect>
      <text
        x={textBoxWidth / 2}
        y={textBoxVPad}
        text-anchor="middle"
        dominant-baseline="hanging"
      >
        {x}, {y}
      </text>
    </g>
  </g>
</g>

<style>
  .dot {
    filter: drop-shadow(0px 0px 5px rgb(0 0 0 / 0.5));
    stroke-width: 0;
    transform: scale(var(--zoom));
    pointer-events: none;
  }

  .coordinate {
    transform: scale(var(--zoom));

    rect {
      fill: rgb(255 255 255 / 0.9);
      filter: drop-shadow(0px 0px 3px rgb(0 0 0 / 0.5));
      rx: 5px;
      ry: 5px;
    }

    text {
      font-size: 9px;
      font-weight: bold;
      fill: black;
    }
  }
</style>
