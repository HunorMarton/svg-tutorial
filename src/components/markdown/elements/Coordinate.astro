---
export interface Props {
  x: string;
  y: string;
  fill?: string;
}

const { x, y } = Astro.props as Props;
---

<g transform={`translate(${x ?? 0} ${y ?? 0})`}>
  <circle class="dot" r="3" fill="red"></circle>
  <foreignObject width="100" height="100">
    <section>
      <span class="coordinate">{x ?? 0}, {y ?? 0}</span>
    </section>
  </foreignObject>
</g>

<style>
  .dot {
    filter: drop-shadow(0px 0px 5px rgb(0 0 0 / 0.5));
    stroke-width: 0;
    transform: scale(var(--zoom));
    pointer-events: none;
  }

  foreignObject {
    pointer-events: none;
  }

  section {
    position: fixed; /* Workaround for Safari: https://stackoverflow.com/questions/51313873/svg-foreignobject-not-working-properly-on-safari */
    transform: scale(var(--zoom));
  }

  .coordinate {
    position: fixed; /* Workaround for Safari: https://stackoverflow.com/questions/51313873/svg-foreignobject-not-working-properly-on-safari */
    top: 5px;
    left: 5px;
    pointer-events: none;

    box-shadow: 0 0 3px rgb(0 0 0 / 0.5);
    background: rgb(255 255 255 / 0.9);
    color: black;
    padding: 5px 8px;
    border-radius: 5px;
    font-size: 9px;
    font-weight: bold;
    text-wrap: nowrap;
  }
</style>
