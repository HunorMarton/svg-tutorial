---
export interface Props {
  day: number;
  Component: any;
  title: string;
  link: string;
}

const { day, Component, title, link } = Astro.props as Props;
---

<script>
  document.querySelectorAll(".day").forEach((element) => {
    element.addEventListener("mouseenter", (event) => {
      const target = event.currentTarget as HTMLElement;
      target.style.zIndex = "10";
    });
    element.addEventListener("mouseleave", (event) => {
      const target = event.currentTarget as HTMLElement;
      // Add a delay to leave enough time for the door to close
      setTimeout(() => {
        target.style.zIndex = "1";
      }, 1000);
    });
  });
</script>

<a href=`/svg/${link}` id={`day-${day}`} class="day" title={title}>
  <Component title={title} size="0.6" />
  <div class="title">{title}</div>
  <div class="cover">{day}</div>
</a>

<style>
  .day {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    cursor: pointer;

    background: white;
    border-radius: 10px;
    perspective: 500px;
  }

  .day .cover {
    border-radius: 10px;
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: "Fredoka One", cursive;
    font-size: 3em;
    transform-origin: left top;
    transition: 1s ease-in-out;
  }

  .day .title {
    border-radius: 10px;
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: transparent;
    pointer-events: none;
  }

  .day:hover {
    z-index: 10;
  }

  .day:hover .cover {
    transform: rotateY(-100deg);
  }

  .day:nth-of-type(5n-4) .cover {
    background-color: #2f3029;
    color: #f5eed7;
  }

  .day:nth-of-type(5n-3) .cover {
    background-color: #b73a3b;
    color: #f5eed7;

    background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='15' height='15' viewBox='0 0 100 100'><circle cx='25' cy='25' r='15' fill='%239B2D2B'/><circle cx='75' cy='75' r='16' fill='%239B2D2B'/></svg>");
  }

  .day:nth-of-type(5n-2) .cover {
    background-color: #f5eed7;
    color: #252721;

    background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='47.5' height='47.5' viewBox='0 0 100 100'><path d='M 25 10 L 25 17 M 25 33 L 25 40 M 10 25 L 17 25 M 33 25 L 40 25' stroke='%23CD803D' stroke-width='6' stroke-linecap='round' /><circle cx='75' cy='75' r='4' fill='%23CD803D'/></svg>");
  }

  .day:nth-of-type(5n-1) .cover {
    background-color: #b7c7b0;
    color: #252721;

    background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 120 120'><polygon fill='%2393A891' points='120 120 60 120 90 90 120 60 120 0 120 0 60 60 0 0 0 60 30 90 60 120 120 120 '/></svg>");
  }

  .day:nth-of-type(5n-0) .cover {
    background-color: #b73a3b;
    color: #f5eed7;

    background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='70' height='70' viewBox='0 0 100 100'><path d='M 0 25 L 25 0 M 0 50 L 50 0 M 0 75 L 75 0 M 0 100 L 100 0 M 0 125 L 125 0 M 0 150 L 150 0 M 0 175 L 175 0' stroke='%239B2D2B' stroke-width='6' /></svg>");
  }
</style>
